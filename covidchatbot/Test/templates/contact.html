{% extends 'intro.html' %}
{% block title %}  Contacting {% endblock %}
{% block contactactive %} active {% endblock %}
{% block contactcolor %} white {% endblock %}
{% block contactunder %}<b><u>{% endblock %}
{% block css %}
    body, html{
         #background-color: #00ffff;
    background-color: white;
        #background-color: #bfff00;
         #background-image: url("/Media/Test/Images/skystar2.jpg") ;
        background-image: url("/Media/Test/Images/cov24.png") ;
         background-position: center ;
         background-repeat: no-repeat;
         height: 102%;
         #background-size: 1500px 720px;
        background-size: 100% 100%;
        }
    .container{
        #color : #00ffff ;
        color : black ;
    }
    {% endblock %}
{% block body %}<b>
<div class="container"><br>
    <h1><font color="black"><b><center>Contact Us</center></b></font></h1><br>
<form action="/test/contact/" name='MyForm' method="POST" onsubmit="return validateform()">
     {% csrf_token %}
  <input type="hidden" id="userid" name="userid" value={{user}}>
  <div class="form-group">
    <label for="Name">Name : </label>
    <input type="text" class="form-control" id="Name" name="Name" placeholder="Enter Contact Person Name" pattern="[A-Z a-z]{1,50}" title="Must contain only alphabets.">
  </div>

  <div class="form-group">
    <label for="Name">Email : </label>
    <input type="email" class="form-control" id="Email" name="Email" placeholder="Enter Contact Person Email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2, 4}$">
  </div>
  <div class="form-group">
    <label for="Name">Phone : </label>
    <input type="phone" class="form-control" id="Phone" name="Phone" placeholder="Enter Contact Person Phone Number " pattern="[7-9][0-9]{9}" title="Must contain exactly 10 digits starting from 7 or 8 or 9.">
  </div>
  <div class="form-group">
    <label for="Desc">How may we help you : </label>
    <textarea class="form-control" id="Desc" name="Desc" rows="3"></textarea>
  </div>
  <button class="btn btn-primary" type="submit">Submit</button>
</form>
    <br><br>
    <!--<script>

        function myFunction(){
        console.log('Faijju21')
        document.getElementById("items").innerHTML=`<br><br><label><h1>Previously asked Queries :- </h1></label><br>
    {% for i in params.0.0 %}
        <br>
        <label><b>Name of the Contact Person : </b>{{i.name}}</label>
        <label><b>Phone number of the Contact Person : </b>{{i.phone}}</label>
        <label><b>Email ID of the Contact Person : </b>{{i.email}}</label>
        <label><b>Person's Query : </b>{{i.desc}}</label>
        <br><br>
    {% endfor %}`
        let descr2=document.getElementById("items").innerHTML
        console.log(descr2)
        {% if params.0.1 %}
         alert('Thanks for Contacting Us. We will get back to you soon.')
         document.location='/test/contact/'
      {% endif %}
    }
    </script>-->
    <button onclick="return myFunction()" id='descr' name='descr' class="btn btn-outline-success m-2 my-sm-0"><b>Click Here to see the Previously asked Queries on below</b> </button>
    <br><br>
    <ul class="list-group" id='items' name="items"></ul>

</div></b>
{% endblock %}
{% block js %}
    function validateform(){
        var name=document.MyForm.Desc.value;
        name=name.trim()
        if (name==null || name==""){
          alert("Please fill your queries.");
          return false;
         }
        }
    function myFunction(){
        console.log('Faijju21')
    document.getElementById("items").innerHTML=`<br><br><label><h1><font color="red"><b><br>Previously asked Queries :-<br></b></font> </h1></label><br>
    {% for i in params.0.0 %}
        <br>
        <label><b><font color="blue">Name of the Contact Person : </font></b>{{i.name}}</label>
        <label><b><font color="blue">Phone number of the Contact Person : </font></b>{{i.phone}}</label>
        <label><b><font color="blue">Email ID of the Contact Person : </font></b>{{i.email}}</label>
        <label><b><font color="blue">Asking Date : </font></b>{{i.timestamp}}</label>
        <label><b><font color="blue">Person's Query : </font></b>{{i.desc}}</label>
        <img src="/Media/Test/Images/corona4.jpg" align="right" height="100" width="100">
        <br><br><br>
    {% endfor %}`
    }
      {% if params.0.1 %}
         alert('Thanks for Contacting Us. We will get back to you soon.')
         document.location='/test/contact/'
      {% endif %}
{% endblock %}